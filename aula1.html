<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/prism.css"  />
	<link rel="stylesheet" href="css/codemirror.css"  />
	<title>Técnicas de programação para Games - Aula 1 - Desenhando via programação usando Processing</title>
</head>
<body>
<div class="container">
	<h1>Aula 1 - Desenhando com Processing e JavaScript</h1>
	<section>
		<div class="well">
			<label>Objetivos</label>
			<ul>
				<li>Familiarizar-se com a linguagem JavaScript</li>
				<li>Conhecer alguns comandos de desenho do ProcessingJS</li>
				<li>Aprender a consultar a documentação do ProcessingJS</li>
			</ul>
		</div>
	</section>

	<section>
		<h2>Laboratório</h2>
		<div class="row">
			<div class="col-md-5">
				<div class="form-group">
					<textarea id="codeinput" class="form-control" rows="16" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
size(360,300);
ellipse(180,150,100,80);</textarea>
				</div>
				<div class="form-group">
					<button id="compileButton" class="btn btn-primary btn-block">Executar</button>
				</div>
				<div id="messagecontainer" class="alert alert-danger " style="display:none;"></div>
			</div>
			<div class="col-md-7">
				<canvas id="drawingcanvas"></canvas>
			</div>
		</div>
	</section>

<!--
	<section>
		<h2>Conceitos</h2>
		<dl class="dl-horizontal">
  			<dt>Comandos</dt>
  			<dd>...</dd>
  			<dt>Javascript</dt>
  			<dd>...</dd>
  			<dt>Comentário</dt>
  			<dd>...</dd>
  			<dt>Parâmetros</dt>
  			<dd>...</dd>
		</dl>
	</section>-->

	<section>
		<h2>Comandos Processing JS</h2>
		<div class="row">
			<div class="col-md-4">
				<pre><code class="language-javascript autoprism">//primitivas 2D
arc(x, y, width, height, start, stop)
ellipse(x, y, width, height)
line(x1, y1, x2, y2)
point(x, y)
quad(x1, y1, x2, y2, x3, y3, x4, y4)
rect(x, y, width, height)
triangle(x1, y1, x2, y2, x3, y3)
</code></pre>
			</div>
			<div class="col-md-4">
				<pre><code class="language-javascript autoprism">//cores
background(gray)
background(gray, alpha)
background(value1, value2, value3)
background(value1, value2, value3, alpha)
background(color)
background(color, alpha)
background(hex)
background(hex)
background(hex, alpha)
fill(*)
stroke(*)
</code></pre>
			</div>
			<div class="col-md-4">
				<pre><code class="language-javascript autoprism">//texto
text(data, x, y)
text(stringdata, x, y, width, height)
loadFont(fontname)
textFont(font)
textFont(font, size)

// controle de preenchimento/linha
noFill()
noStroke()
strokeWeight(width)
</code></pre>
			</div>
	</section>

	<section>
		<h2>Exemplos</h2>
		<div class="row">
			<div class="col-md-4 example">
				<pre><code class="language-javascript">size(360,300);
// esta linha é ignorada pelo programa!
// <- as duas barras iniciam o comentário
// dura até o fim da linha
rect(150,150,50,50);    //desenha retângulo
strokeWeight(3);        //muda grossura linha
ellipse(150,150,50,50); //desenha elipse
line(200,250,300,200);  //linha</code></pre>
				<canvas></canvas>
			</div>
			<div class="col-md-4 example">
				<pre><code class="language-javascript">//não esqueça do ponto-e-vírgula
//após cada comando 
size(360,300);     // largura=360, altura=300
fill(255, 255, 0);       //preench. - amarelo
stroke(255, 0, 0);       //linha - vermelho
ellipse(150,150,150,150);//desenha elipse
fill(0, 0, 0);           //preench. - preto
ellipse(150,150,50,100); //desenha elipse
</code></pre>
				<canvas></canvas>
			</div>
			<div class="col-md-4 example">
				<pre><code class="language-javascript">size(360,300);
//aspas simples iniciam e terminam uma string
//escrever "100, 50" na posição (100, 50)
text('100, 50', 100, 50);
fill(0,0,0);  //preenchimento preto
//escrever "50, 100" na posição (50, 100)
text('50, 100', 50, 100);

</code></pre>
				<canvas></canvas>
			</div>
		</div>
	</section>
	<section>		
		<h2>Exercícios</h2>
		<div class="row">
			<div class="col-md-4 example">
				<pre class="hidden"><code class="language-javascript ">size(360,300);
fill(255, 255, 0);     
ellipse(150,150,150,150);
fill(0, 0, 0);     
ellipse(100,130,10,10);
ellipse(200,130,10,10);
line(120, 170, 180, 170);
</code></pre>
				<canvas></canvas>
			</div>
			
			<div class="col-md-4 example">
				<pre class="hidden"><code class="language-javascript ">size(360,300);
background(180,200,255);
fill(0,100,0);
rect(0,180,359,119);
fill(255,255,255);
ellipse(180,220,120,120);
ellipse(180,130,100,100);
ellipse(180,60,80,80);
fill(0,0,0);
ellipse(160,50,5,5);
ellipse(200,50,5,5);
ellipse(180,80,15,10);
fill(255,50,0);
ellipse(180,60,15,15);
</code></pre>
				<canvas></canvas>
			</div>

			<div class="col-md-4 example">
				<pre class="hidden"><code class="language-javascript ">size(360,300);
strokeWeight(4);
stroke(0,0,0);
fill(255, 255, 0);     
ellipse(180,150,150,150);

noFill();
stroke(0,0,0);
arc(180, 160, 50, 50, 0, 3.14);

noStroke();
fill(0, 0, 0);
ellipse(130,140,15,15);
ellipse(230,140,15,15);

text('Hello', 160, 50);
</code></pre>
				<canvas></canvas>
			</div>
			
		</div>
	</section>


	<section>
		<h2>Referência</h2>
		<ul>
			<li><a href="https://pt.khanacademy.org/computing/computer-programming/programming/drawing-basics/p/making-drawings-with-code">Desenhando com código (Khan Academy)</a></li>
			<li><a href="http://processingjs.org/reference/">ProcessingJS - Reference</a></li>
		</ul>
	</section>

</div>

<script src="js/jquery-3.0.0.min.js"></script>
<script src="js/prism.js" data-manual></script>
<script src="js/processing.min.js"></script>
<script src="js/codemirror.js"></script>
<script src="js/codemirror/mode/javascript/javascript.js"></script>
<script type="text/javascript">
	//Variáveis globais
	var processingInstance;
	var codemirror;

	$(document).on('click', '#compileButton', function(evt) {
		//limpa e esconde mensagem de erro
		$('#messagecontainer').html('').hide();

		//interrompe processing anterior
		try {
			processingInstance.exit();
		} catch(err) {}

		//limpa o canvas
		try {
			var canvas = $('#drawingcanvas')[0];
			canvas.getContext('2d').clearRect(0, 0, canvas.width, canvas.height);
		} catch(err) {}

		var processingCode = codemirror.getValue();
		var compilation;
		try {
			compilation = Processing.compile(processingCode);
		} catch (err) {
			$('#messagecontainer').show().html('Erro de sintaxe do programa');
			return;
		}
		try {
			processingInstance = new Processing($('#drawingcanvas')[0], compilation);
		} catch(err) {
			$('#messagecontainer').show().html('Erro no programa: ' + err.description);
			return;
		}
	});

	$(function() {
		//inicia editor CodeMirror
		codemirror = CodeMirror.fromTextArea($('#codeinput')[0], {
    		lineNumbers: true,
			dragDrop: false,
			autofocus: true
		});

		//carrega exemplos
		$('.example').each(function() {
			var code = $(this).find('code').html(); 
			Prism.highlightElement($(this).find('code')[0], false);
			new Processing($(this).find('canvas')[0], code);
		});

		$('.autoprism').each(function() {
			Prism.highlightElement(this);
		});
	});
</script>
</body>
</html>