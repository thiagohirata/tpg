<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/prism.css"  />
	<link rel="stylesheet" href="css/codemirror.css"  />

	<title>Técnicas de programação para Games - Aula 1</title>
	<style>
		#codeinput {
			font-family: Menlo,Monaco,Consolas,"Courier New",monospace;
		}
	</style>
</head>
<body>
<div class="container">
	<h1>Aula 1</h1>
	<section>
		<div class="row">
			<div class="col-md-5">
				<div class="form-group">
					<textarea id="codeinput" class="form-control" rows="16" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
size(360,300);
ellipse(180,150,100,80);</textarea>
				</div>
				<div class="form-group">
					<button id="compileButton" class="btn btn-primary btn-block">Executar</button>
				</div>
				<div id="messagecontainer" class="alert alert-danger " style="display:none;"></div>
			</div>
			<div class="col-md-7">
				<canvas id="drawingcanvas"></canvas>
			</div>
		</div>
	</section>


	<section>
		<h2>Comandos Processing JS</h2>
		<div class="row">
			<ul class="list-unstyled col-md-4">
				<li><code>arc(x, y, width, height, start, stop)</code>
				<li><code>ellipse(x, y, width, height)</code></li>
				<li><code>line(x1, y1, x2, y2)</code></li>
				<li><code>point(x, y)</code></li>
				<li><code>quad(x1, y1, x2, y2, x3, y3, x4, y4)</code></li>
				<li><code>rect(x, y, width, height)</code></li>
				<li><code>rect(x, y, width, height, radius)</code></li>
				<li><code>triangle(x1, y1, x2, y2, x3, y3)</code></li>
			</ul>
			<ul class="list-unstyled col-md-4">
				<li><code>background(gray)</code></li>
				<li><code>background(gray, alpha)</code></li>
				<li><code>background(value1, value2, value3)</code></li>
				<li><code>background(value1, value2, value3, alpha)</code></li>
				<li><code>background(color)</code></li>
				<li><code>background(color, alpha)</code></li>
				<li><code>background(hex)</code></li>
				<li><code>background(hex)</code></li>
				<li><code>background(hex, alpha)</code></li>
				<li><code>fill(*)</code></li>
				<li><code>stroke(*)</code></li>
				<li><code>noFill()</code></li>
				<li><code>noStroke()</code></li>
			</ul>
			<ul class="list-unstyled col-md-4">
				<li><code>text(data, x, y)</code></li>
				<li><code>text(data, x, y, z)</code></li>
				<li><code>text(stringdata, x, y, width, height)</code></li>
				<li><code>text(stringdata, x, y, width, height, z)</code></li>
				<li><code>loadFont(fontname)</code></li>
				<li><code>textFont(font)</code></li>
				<li><code>textFont(font, size)</code></li>
			</ul>
		</div>
<!--
		<ul class="list-unstyled">
			<li><code></code></li>
			<li><code></code></li>
			<li><code></code></li>
			<li><code></code></li>
			<li><code></code></li>
			<li><code></code></li>
			<li><code></code></li>
			<li><code></code></li>
		</ul>
-->
	</section>

	<section>
		<h2>Exemplos</h2>
		<div class="row">
			<div class="col-md-4 example">
				<pre><code class="language-javascript">size(360,300);
rect(150,150,50,50);    //desenha retângulo
ellipse(150,150,50,50); //desenha elipse
line(200, 250, 300, 200);//linha


</code></pre>
				<canvas></canvas>
			</div>
			<div class="col-md-4 example">
				<pre><code class="language-javascript">size(360,300);
rect(150,150,50,50);   //desenha retângulo
fill(0, 255, 0);       //preench. - verde
stroke(255, 0, 255);   //linha - rosa
ellipse(150,150,50,50);//desenha elipse

</code></pre>
				<canvas></canvas>
			</div>
			<div class="col-md-4 example">
				<pre><code class="language-javascript">size(360,300);
fill(255, 255, 0);     //preench. - amarelo
stroke(255, 0, 0);     //linha - vermelho
ellipse(150,150,50,50);//desenha elipse
stroke(0, 0, 0);       //linha - preto
rect(150,150,50,50);   //desenha retângulo
</code></pre>
				<canvas></canvas>
			</div>

		</div>
	</section>
	<section>		
		<h2>Desafios</h2>
		<div class="row">
			<div class="col-md-4 example">
				<pre class="hidden"><code class="language-javascript ">size(360,300);
fill(255, 255, 0);     
ellipse(150,150,150,150);
fill(0, 0, 0);     
ellipse(100,130,10,10);
ellipse(200,130,10,10);
line(120, 170, 180, 170);
</code></pre>
				<canvas></canvas>
			</div>
		</div>
	</section>


	<section>
		<h2>Referência</h2>
		<ul>
			<li><a href="http://processingjs.org/reference/">ProcessingJS - Reference</a></li>
		</ul>
	</section>

</div>

<script src="js/jquery-3.0.0.min.js"></script>
<script src="js/prism.js" data-manual></script>
<script src="js/processing.min.js"></script>
<script src="js/codemirror.js"></script>
<script src="js/codemirror/mode/javascript/javascript.js"></script>
<script type="text/javascript">
	//Variáveis globais
	var processingInstance;
	var codemirror;

	$(document).on('click', '#compileButton', function(evt) {
		//limpa e esconde mensagem de erro
		$('#messagecontainer').html('').hide();

		//interrompe processing anterior
		try {
			processingInstance.exit();
		} catch(err) {}

		//limpa o canvas
		try {
			var canvas = $('#drawingcanvas')[0];
			canvas.getContext('2d').clearRect(0, 0, canvas.width, canvas.height);
		} catch(err) {}

		var processingCode = codemirror.getValue();
		var compilation;
		try {
			compilation = Processing.compile(processingCode);
		} catch (err) {
			$('#messagecontainer').show().html('Erro de sintaxe do programa');
			return;
		}
		try {
			processingInstance = new Processing($('#drawingcanvas')[0], compilation);
		} catch(err) {
			$('#messagecontainer').show().html('Erro no programa: ' + err.description);
			return;
		}
	});

	$(function() {
		//inicia editor CodeMirror
		codemirror = CodeMirror.fromTextArea($('#codeinput')[0], {
    		lineNumbers: true,
			dragDrop: false,
			autofocus: true
		});

		//carrega exemplos
		$('.example').each(function() {
			var code = $(this).find('code').html(); 
			Prism.highlightElement($(this).find('code')[0], false);
			new Processing($(this).find('canvas')[0], code);
		});
	});
</script>
</body>
</html>